FROM python:3.11-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir requests

# Copy generator script
COPY enhanced_log_generator.py .
COPY log_simulator.py .

# Create output directory
RUN mkdir -p /app/output

# Make scripts executable
RUN chmod +x enhanced_log_generator.py log_simulator.py

# Default command
CMD ["python", "enhanced_log_generator.py", "--mode", "stream", "--host", "vector-ingest", "--port", "5140", "--rate", "20"]
